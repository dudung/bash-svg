#!/bin/bash

#
# svg_rect
# Sparisoma Viridi | https://github.com/dudung/bash-svg
#
# 20221006 Start this script, create arguments and usage.
#

# check number of arguments
if [ $# -lt 4 ]
then
  echo "Usage: svg_rec x=num y=num w=num h=num"
  echo "x      coordinate from left margin"
  echo "y      coordinate from top margin"
  echo "w      width of rectange"
  echo "h      height of rectangle"
  echo "num    any positif numerical values"
  exit
fi

# convert all arguments to string
args="'$*'"

# check existence of 'x=','y=', 'w=', 'h=' in arguments
if [ -n "$(echo $args | grep 'x=')" ]; then xb=1; else xb=0; fi
if [ -n "$(echo $args | grep 'y=')" ]; then yb=2; else yb=0; fi
if [ -n "$(echo $args | grep 'w=')" ]; then wb=4; else wb=0; fi
if [ -n "$(echo $args | grep 'h=')" ]; then hb=8; else hb=0; fi
status=$(expr $xb + $yb + $wb + $hb)

# create message of missing arguments
msg="missing"
if [ -z "$(echo $args | grep 'x=')" ]; then msg=$msg" x"; fi
if [ -z "$(echo $args | grep 'y=')" ]; then msg=$msg" y"; fi
if [ -z "$(echo $args | grep 'w=')" ]; then msg=$msg" w"; fi
if [ -z "$(echo $args | grep 'h=')" ]; then msg=$msg" h"; fi

# show errow message
if [ $status -lt 15 ]
then
  echo "error:" $msg
  exit
fi

# create svg image
echo "Create svg"